<!DOCTYPE html>
<html lang="ht">
<head>
  <meta charset="UTF-8">
  <title>Rebel Mode | Lis Vant</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family:Poppins,sans-serif; background:#0f0f0f; color:#fff; margin:0; padding:0; }
    header { background:#1e1e1e; padding:20px 40px; display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 10px rgba(255,255,255,0.1);}
    header h1 { color:#ffcc00; }
    main { padding:40px; max-width:1100px; margin:auto; }
    table { width:100%; border-collapse:collapse; background:#1a1a1a; border-radius:8px; overflow:hidden; margin-top:20px;}
    th, td { padding:12px; border-bottom:1px solid #333; text-align:left; }
    th { background:#252525; color:#ffcc00; }
    tr:hover { background:#222; }
    button { background:#ffcc00; color:#000; padding:10px 20px; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
    button:hover { background:#ffdd33; margin-top:10px;}
  </style>
</head>
<body>
  <header>
    <h1>Lis Vant</h1>
    <button onclick="location.href='sales_add.html'">Nouvo Vant</button>
  </header>
  <main>
    <table>
      <thead>
        <tr>
          <th>Kliyan</th>
          <th>Pwodwi</th>
          <th>Kategori</th>
          <th>Pri</th>
          <th>Kantite</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="salesTable"></tbody>
    </table>
    <button onclick="exportPDF()">Telechaje PDF</button>
  </main>

  <script>
    const sales = JSON.parse(localStorage.getItem('sales') || '[]');
    const salesTable = document.getElementById('salesTable');

    function renderSales(){
      salesTable.innerHTML = '';
      sales.forEach(s => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${s.client}</td>
          <td>${s.product}</td>
          <td>${s.category}</td>
          <td>${s.price} Gdes</td>
          <td>${s.quantity}</td>
          <td>${s.total} Gdes</td>
        `;
        salesTable.appendChild(row);
      });
    }

    renderSales();

    function exportPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      let y = 10;
      doc.setFontSize(14);
      doc.text("Lis Vant - Rebel Mode", 10, y);
      y += 10;
      sales.forEach((s,i) => {
        doc.text(`${i+1}. ${s.client} - ${s.product} (${s.category}) - ${s.price} Gdes x ${s.quantity} = ${s.total} Gdes`, 10, y);
        y += 10;
        if(y > 280) { doc.addPage(); y = 10; }
      });
      doc.save('liste_vant.pdf');
    }
  </script>
</body>
</html>